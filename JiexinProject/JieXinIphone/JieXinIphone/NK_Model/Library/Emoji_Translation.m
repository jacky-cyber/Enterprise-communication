//
// Emoji_Translation.m
// JieXinIphone
//
// Created by gabriella on 14-4-18.
// Copyright (c) 2014å¹´ sunboxsoft. All rights reserved.
//

#import "Emoji_Translation.h"

@implementation Emoji_Translation


+ (NSString *)EmojiWithIos:(NSString *)sSrc ConvertToQixin:(NSString **)sDest
{
//    *sDest = [NSString stringWithString:sSrc];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F601" withString:@"/:O"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F613" withString:@"/:-/"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F60A" withString:@"/:*"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F616" withString:@"/):"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F60D" withString:@"/8-)"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F609" withString:@"/:$"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F62D" withString:@"/:-X"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F60C" withString:@"/:-Z"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F637" withString:@"/:#("];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F62A" withString:@"/:-|"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F622" withString:@"/:@"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F621" withString:@"/:P"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F61C" withString:@"/:D"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F628" withString:@"/:)"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F612" withString:@"/<:D"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F620" withString:@"/<:J"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F61D" withString:@"/<:H"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F602" withString:@"/<:M"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F604" withString:@"/<:QQ"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0000263A" withString:@"/<:A"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F614" withString:@"/<:K"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F630" withString:@"/<:T"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F625" withString:@"/<:$"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F603" withString:@"/<:O"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F633" withString:@"/<:F"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F632" withString:@"/<:V"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F631" withString:@"/<:W"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F618" withString:@"/<:I"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F61E" withString:@"/<:Z"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F60F" withString:@"/<:*"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F61A" withString:@"/<:)"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F623" withString:@"/<:PK"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F47F" withString:@"/<:Y1"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F47B" withString:@"/:("];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F645" withString:@"/<:L"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F477" withString:@"/<:&;"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F647" withString:@"/<:B"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F480" withString:@"/<:Y2"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F419" withString:@"/<:@@"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F473" withString:@"/<:X"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F4A6" withString:@"/<:G"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F4A4" withString:@"/<:!!"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F349" withString:@"/<:NO"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U00002615" withString:@"/<:00"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F35A" withString:@"/<:11"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F437" withString:@"/<:12"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F382" withString:@"/<:22"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F381" withString:@"/<:33"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F44D" withString:@"/<:44"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F44E" withString:@"/<:55"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F44F" withString:@"/<:66"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0000270C" withString:@"/<:77"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F4AA" withString:@"/<:88"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0000261D" withString:@"/<:99"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F44C" withString:@"/<:01"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F447" withString:@"/<:~"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F64C" withString:@"/<:U"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F44A" withString:@"/<:S"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F44B" withString:@"/<:%"];
    *sDest = [*sDest stringByReplacingOccurrencesOfString:@"\U0001F64F" withString:@"/<:C"];
    sSrc=[NSString stringWithString:*sDest];
    
    return sSrc;
}

+(NSString *)EmojiWithQixin:(NSString *)sSrc
{
   NSString *  sDest = [NSString stringWithString:sSrc];
    
    NSString *urlstr=[[NSBundle mainBundle] pathForResource:@"EmotionPlist" ofType:@"plist"];
    
    NSDictionary * dic = [NSDictionary dictionaryWithContentsOfFile:urlstr];

    NSArray *emojiKey=[dic allKeys];
    NSArray *emojiStr=[dic allValues];
    for(int i=0;i<emojiKey.count;i++){
        NSString *tempStr=emojiKey[i] ;
        tempStr  =  [tempStr substringToIndex:tempStr.length-4];
        sDest = [sDest stringByReplacingOccurrencesOfString:emojiStr[i]  withString: [NSString stringWithFormat:@"{&%@&}",tempStr]];

    }
    sDest = [sDest stringByReplacingOccurrencesOfString:@"{" withString:@"<"];
    sDest = [sDest stringByReplacingOccurrencesOfString:@"}" withString:@">"];

    return sDest;
    
}

+ (NSString *)EmojiWithIos_2ConvertToQixin:(NSString *)sDest
{
    NSString *resultStr=[NSString stringWithString:sDest];
    NSString *urlstr=[[NSBundle mainBundle] pathForResource:@"EmotionPlist" ofType:@"plist"];
    
  NSDictionary * dic = [NSDictionary dictionaryWithContentsOfFile:urlstr];
    NSArray *allKey=[dic allKeys];
    
    
    for(int i=0;i<[allKey count];i++){
        NSString *emojiStr=[NSString stringWithFormat:@"<&emoji_%03d&>",i];
        for(int j=0;j<[allKey count];j++){
            NSString *emojiFlag=[dic objectForKey:allKey[j]] ;
            NSLog(@"%@-------%@",emojiStr,emojiFlag);
        resultStr = [resultStr stringByReplacingOccurrencesOfString:emojiFlag withString:emojiStr];
        }
    }
    
    return resultStr;
}



@end
